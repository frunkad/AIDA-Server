export namespace AI {
  const calcSingleValue = x => {
    return 1 / (1 + Math.exp(-x));
  };

  const weights = [
    -923.35048656,
    -941.20520698,
    -249.80596224,
    -559.87309421,
    -103.17082965,
    350.28213377,
    485.43647301,
    -19.23422976,
    -145.93363041,
    -186.71430015,
    -161.53722033,
    -206.13987369,
    22.57213838,
    -143.1278857,
    97.75657583,
    221.07350036,
    -133.68629621,
    -362.64089503,
    -141.3259588,
    -166.76059956,
    -378.8871739,
    -384.77385639,
    -156.47784161,
    -276.39185447,
    -266.95159171,
    -268.75262275,
    160.66771268,
    357.18822986,
    334.799243,
    182.82108803,
    82.63334179,
    -28.55278106,
    -71.78295205,
    -34.0639859,
    -54.34627042,
    -20.2492831,
    -49.00317659,
    -64.03031248,
    7.79015209,
    -55.03041914,
    -71.8790797,
    -54.40608484,
    -10.36483258,
    -62.75203885,
    4.51838898,
    -20.68468641,
    -61.16095117,
    -9.52529858,
    -12.69557782,
    -2.19783174,
    5.51366554,
    -53.19830698,
    -8.20004514,
    -12.94482931,
    -29.988256,
    3.49899001,
    -34.87411509,
    -1.14500541,
    -43.54043572,
    -51.99418768,
    -1.39954263,
    -23.71798801,
    -35.66646077,
    -17.68554202,
    9.39255652,
    -26.53124143,
    -49.96551976,
    -37.9339369,
    -73.40289375,
    -38.15599579,
    -72.3749791,
    -1.94122384,
    -2.34778999,
    -64.79373736,
    -30.10019219,
    -1.7003639,
    -71.80063449,
    -11.84983623,
    -54.70603561,
    -52.78266097,
    -62.20396788,
    -36.61590826,
    -48.08194641,
    -8.51054073,
    -1.59021952,
    -58.728722,
    -19.96517916,
    -70.47257506,
    -40.97888475,
    -38.75917103,
    5.65537354
  ];

  export const predict = (
    week: number,
    hour: number,
    minute: number
  ): boolean => {
    const weekArray = new Array<number>(7);
    const hourArray = new Array<number>(24);
    const minuteArray = new Array<number>(60);

    weekArray[week] = 1;
    hourArray[hour] = 1;
    minuteArray[minute] = 1;

    const inputParams = weekArray.concat(hourArray).concat(minuteArray);
    let result = 0;
    for (let i = 0; i < weights.length; i++) {
      result += inputParams[i] * weights[i];
    }

    return calcSingleValue(result) > 0.5;
  };
}
